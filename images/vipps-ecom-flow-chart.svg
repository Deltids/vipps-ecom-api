<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="327px" preserveAspectRatio="none" style="width:1630px;height:327px;" version="1.1" viewBox="0 0 1630 327" width="1630.5px" zoomAndPan="magnify"><defs><filter height="300%" id="fmq2kgtyhasq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="6.0" dy="6.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="24" cy="246" fill="#000000" filter="url(#fmq2kgtyhasq)" rx="15" ry="15" style="stroke: none; stroke-width: 1.5;"/><rect fill="#F8F8F8" filter="url(#fmq2kgtyhasq)" height="75" rx="18.75" ry="18.75" style="stroke: #383838; stroke-width: 2.25;" width="97.5" x="130.5" y="208.5"/><line style="stroke: #383838; stroke-width: 2.25;" x1="130.5" x2="228" y1="247.9453" y2="247.9453"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="145.5" y="235.4927">Initiate</text><rect fill="#F8F8F8" filter="url(#fmq2kgtyhasq)" height="75" rx="18.75" ry="18.75" style="stroke: #383838; stroke-width: 2.25;" width="115.5" x="540" y="142.5"/><line style="stroke: #383838; stroke-width: 2.25;" x1="540" x2="655.5" y1="181.9453" y2="181.9453"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacingAndGlyphs" textLength="85.5" x="555" y="169.4927">Reserve</text><rect fill="#F8F8F8" filter="url(#fmq2kgtyhasq)" height="75" rx="18.75" ry="18.75" style="stroke: #383838; stroke-width: 2.25;" width="112.5" x="1014" y="85.5"/><line style="stroke: #383838; stroke-width: 2.25;" x1="1014" x2="1126.5" y1="124.9453" y2="124.9453"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacingAndGlyphs" textLength="82.5" x="1029" y="112.4927">Capture</text><rect fill="#F8F8F8" filter="url(#fmq2kgtyhasq)" height="75" rx="18.75" ry="18.75" style="stroke: #383838; stroke-width: 2.25;" width="100.5" x="1020" y="235.5"/><line style="stroke: #383838; stroke-width: 2.25;" x1="1020" x2="1120.5" y1="274.9453" y2="274.9453"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacingAndGlyphs" textLength="70.5" x="1035" y="262.4927">Cancel</text><rect fill="#F8F8F8" filter="url(#fmq2kgtyhasq)" height="75" rx="18.75" ry="18.75" style="stroke: #383838; stroke-width: 2.25;" width="105" x="1387.5" y="12"/><line style="stroke: #383838; stroke-width: 2.25;" x1="1387.5" x2="1492.5" y1="51.4453" y2="51.4453"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacingAndGlyphs" textLength="75" x="1402.5" y="38.9927">Refund</text><ellipse cx="1599" cy="166.5" fill="none" filter="url(#fmq2kgtyhasq)" rx="15" ry="15" style="stroke: #000000; stroke-width: 1.5;"/><ellipse cx="1599.75" cy="167.25" fill="#000000" rx="9" ry="9" style="stroke: none; stroke-width: 1.5;"/><!--MD5=[0607403a389b03af381aa9aa6fc54084]
link *start to Initiate--><path d="M39.0111,246 C57.6623,246 92.4027,246 122.4525,246 " fill="none" id="*start-&gt;Initiate" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="129.9786,246,116.4786,240,122.4786,246,116.4786,252,129.9786,246" style="stroke: #383838; stroke-width: 1.5;"/><!--MD5=[45d762db0230588043656f12e52eac1b]
link Initiate to Reserve--><path d="M228.009,238.4933 C302.7495,226.6209 448.3515,203.4929 532.344,190.1513 " fill="none" id="Initiate-&gt;Reserve" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="539.7765,188.9706,525.5025,185.1624,532.3693,190.147,527.3847,197.0139,539.7765,188.9706" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="133.5" x="274.5" y="205.6003">User confirms</text><!--MD5=[c0e5996c73b1f225e49bbd930519acd4]
link Reserve to Capture--><path d="M655.8825,173.1245 C744.129,162.4108 913.8435,141.807 1005.807,130.641 " fill="none" id="Reserve-&gt;Capture" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="1013.3745,129.723,999.2496,125.3942,1005.9292,130.6271,1000.6963,137.3067,1013.3745,129.723" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="180" x="787.5" y="130.6003">Merchant captures</text><!--MD5=[d59c425eeef850fe1f05e18d82f9a134]
link Reserve to Cancel--><path d="M655.8825,191.2179 C746.265,209.1212 922.1025,243.9516 1012.3425,261.8267 " fill="none" id="Reserve-&gt;Cancel" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="1019.7465,263.2932,1007.6695,254.7847,1012.3894,261.8361,1005.338,266.556,1019.7465,263.2932" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="123" x="816" y="213.1003">User cancels</text><!--MD5=[e32f0bf20d087f16420fa26ea15ca6ae]
link Capture to Refund--><path d="M1126.656,111.996 C1194.7155,98.3565 1310.22,75.2085 1379.931,61.2375 " fill="none" id="Capture-&gt;Refund" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="1387.365,59.748,1372.9488,56.5194,1380.0114,61.2226,1375.3082,68.2851,1387.365,59.748" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="168" x="1173" y="64.6003">Merchant refunds</text><!--MD5=[d1e6696b7eb2d15696aed1df935b8243]
link Capture to *end--><path d="M1126.527,127.5315 C1240.7175,136.98 1499.9235,158.427 1576.08,164.7278 " fill="none" id="Capture-&gt;*end" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="1583.655,165.3549,1570.6784,158.2939,1576.179,164.7548,1569.7182,170.2555,1583.655,165.3549" style="stroke: #383838; stroke-width: 1.5;"/><!--MD5=[fe62373ca50d8b63990cd07c55700c74]
link Cancel to *end--><path d="M1120.7385,263.0763 C1231.911,240.5565 1499.5965,186.3321 1576.515,170.7522 " fill="none" id="Cancel-&gt;*end" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="1584.135,169.2065,1569.7169,165.9864,1576.7823,170.6854,1572.0832,177.7507,1584.135,169.2065" style="stroke: #383838; stroke-width: 1.5;"/><!--MD5=[7d61ac6ed2e47c22eaef241e18c70f7f]
link Refund to *end--><path d="M1491.7185,87.1635 C1522.065,109.926 1558.875,137.5305 1580.1,153.45 " fill="none" id="Refund-&gt;*end" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="1586.16,157.998,1578.9578,145.0992,1580.1592,153.499,1571.7594,154.7005,1586.16,157.998" style="stroke: #383838; stroke-width: 1.5;"/><!--MD5=[cf7dc43fc96f7b82566e5517be9413ba]
link Initiate to Cancel--><path d="M228.1575,250.9782 C282.6885,256.4526 374.943,264.9441 454.5,268.5 C659.7195,277.6725 903.8805,275.5892 1012.188,273.9956 " fill="none" id="Initiate-&gt;Cancel" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="1019.7495,273.8819,1006.1602,268.087,1012.2504,273.9954,1006.3419,280.0856,1019.7495,273.8819" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="283.5" x="456" y="262.6003">Timeout, or Merchant cancels</text><!--MD5=[cd2bbfe62ad2d055132b69a602539ef2]
@startuml
skinparam monochrome true

scale 1.5
left to right direction

[*] - -> Initiate
Initiate - -> Reserve: User confirms
Reserve - -> Capture: Merchant captures
Reserve - -> Cancel: User cancels
Capture - -> Refund: Merchant refunds
Capture - -> [*]
Cancel - -> [*]
Refund - -> [*]
Initiate - -> Cancel: Timeout, or Merchant cancels
@enduml

PlantUML version 1.2019.13(Tue Dec 10 17:18:29 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>